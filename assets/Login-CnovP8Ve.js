import{j as e,B as j,s as b,a as t,b as P,r as S,H as D,L as g}from"./main-DjNC3G64.js";import{u as w,t as y,F as k,a as m,b as c,c as x,d,e as p,o as f,s as h}from"./form-CKMLyXiC.js";import{I as u}from"./input-jGJX85w3.js";import{A as L,a as E,b as I,c as B,d as C,e as H,f as T}from"./alert-dialog-NB_aKEFh.js";import{L as v,V}from"./VideoBackground-CFkhV9pU.js";import{M as N}from"./mail-D_0Pom4h.js";import"./label-BhBloIXZ.js";import"./index-DqfUTldv.js";import"./index-BNhSlDgx.js";const z=f({email:h().email({message:"Please enter a valid email address."})}),M=({isOpen:i,onOpenChange:o})=>{const a=w({resolver:y(z),defaultValues:{email:""}}),r=async l=>{try{const{error:s}=await b.auth.resetPasswordForEmail(l.email,{redirectTo:`${window.location.origin}/login?reset=true`});s?t.error(s.message):(t.success("Password reset email sent! Please check your inbox."),a.reset(),o(!1))}catch{t.error("An unexpected error occurred.")}};return e.jsx(L,{open:i,onOpenChange:o,children:e.jsxs(E,{children:[e.jsxs(I,{children:[e.jsxs(B,{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-6 h-6 text-pink-600 dark:text-purple-400"})," Forgot Your Password?"]}),e.jsx(C,{children:"Enter your email address below and we'll send you a link to reset your password."})]}),e.jsx(k,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(r),className:"space-y-4",children:[e.jsx(m,{control:a.control,name:"email",render:({field:l})=>e.jsxs(c,{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-4 h-4"})," Email"]}),e.jsx(d,{children:e.jsx(u,{placeholder:"your.email@example.com",...l,type:"email"})}),e.jsx(p,{})]})}),e.jsxs(H,{className:"!flex-row !justify-end gap-2",children:[e.jsx(T,{onClick:()=>o(!1),children:"Cancel"}),e.jsx(j,{type:"submit",className:"bg-pink-600 hover:bg-pink-700 text-white dark:bg-purple-600 dark:hover:bg-purple-700",children:"Send Reset Link"})]})]})})]})})},R=f({email:h().email({message:"Please enter a valid email address."}),password:h().min(6,{message:"Password must be at least 6 characters."})}),U=()=>{const i=P(),[o,a]=S.useState(!1),r=w({resolver:y(R),defaultValues:{email:"",password:""}}),l=async s=>{const{email:F,password:A}=s;try{const{error:n}=await b.auth.signInWithPassword({email:F,password:A});n?t.error(n.message):(t.success("Logged in successfully!"),i("/dashboard"))}catch{t.error("An unexpected error occurred during login.")}};return e.jsxs(e.Fragment,{children:[e.jsxs(D,{children:[e.jsx("title",{children:"Login - Anbae"}),e.jsx("meta",{name:"description",content:"Log in to your Anbae account to access your personalized relationship insights and communication tools."})]}),e.jsx(V,{}),e.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col items-center justify-center p-4",children:[e.jsx("div",{className:"absolute top-4 right-4 z-10"}),e.jsxs("div",{className:"w-full max-w-sm sm:max-w-md bg-white/30 dark:bg-gray-800/30 p-6 sm:p-8 rounded-xl shadow-lg backdrop-blur-sm border border-white/30 dark:border-gray-600/30",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("img",{src:"/favicon.ico",alt:"App Favicon",className:"w-10 h-10 sm:w-12 sm:h-12 mx-auto mb-3 sm:mb-4"}),e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-1 sm:mb-2",children:"Welcome Back!"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-700 dark:text-gray-300",children:"Sign in to continue your journey."})]}),e.jsx(k,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(l),className:"space-y-5 sm:space-y-6",children:[e.jsx(m,{control:r.control,name:"email",render:({field:s})=>e.jsxs(c,{children:[e.jsxs(x,{className:"flex items-center gap-2 text-sm sm:text-base",children:[e.jsx(N,{className:"w-4 h-4"})," Email"]}),e.jsx(d,{children:e.jsx(u,{placeholder:"your.email@example.com",...s,type:"email",value:s.value||"",className:"text-sm sm:text-base"})}),e.jsx(p,{className:"text-xs sm:text-sm"})]})}),e.jsx(m,{control:r.control,name:"password",render:({field:s})=>e.jsxs(c,{children:[e.jsxs(x,{className:"flex items-center gap-2 text-sm sm:text-base",children:[e.jsx(v,{className:"w-4 h-4"})," Password"]}),e.jsx(d,{children:e.jsx(u,{placeholder:"Your password",...s,type:"password",value:s.value||"",className:"text-sm sm:text-base"})}),e.jsx(p,{className:"text-xs sm:text-sm"})]})}),e.jsx(j,{type:"submit",className:"w-full bg-pink-600 hover:bg-pink-700 text-white dark:bg-purple-600 dark:hover:bg-purple-700 text-sm sm:text-base py-2 sm:py-2.5",children:"Sign In"})]})}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("button",{type:"button",onClick:()=>a(!0),className:"text-xs sm:text-sm text-pink-600 hover:text-pink-700 dark:text-purple-400 dark:hover:text-purple-500 transition-colors",children:"Forgot password?"})}),e.jsx("div",{className:"mt-5 sm:mt-6 text-center",children:e.jsx(g,{to:"/register",className:"text-xs sm:text-sm text-pink-600 hover:text-pink-700 dark:text-purple-400 dark:hover:text-purple-500 transition-colors",children:"Don't have an account? Register here"})}),e.jsx("div",{className:"mt-3 sm:mt-4 text-center",children:e.jsx(g,{to:"/",className:"text-xs sm:text-sm text-gray-800 hover:text-gray-900 dark:text-gray-200 dark:hover:text-gray-100 transition-colors",children:"‚Üê Back to Home"})})]}),e.jsx(M,{isOpen:o,onOpenChange:a})]})]})};export{U as default};
