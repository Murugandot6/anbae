import{b as y,r as f,j as e,H as k,d as F,B as P,L as u,s as A,a as x}from"./main-CivNnYL8.js";import{u as z,F as E,a as r,b as m,c as n,d as o,e as l,t as L,o as _,s as c}from"./form-DgJyPI7i.js";import{I as i}from"./input-D0mAX1KL.js";import{V as S,L as U}from"./VideoBackground-o0mLl5R_.js";import{M as B}from"./mail-CCIE7acR.js";import{U as C}from"./user-BWmvt07r.js";import{U as I}from"./users-CvXF24er.js";import"./label-C-UJg3Od.js";const R=_({email:c().email({message:"Please enter a valid email address."}),password:c().min(8,{message:"Password must be at least 8 characters."}).regex(/[a-z]/,{message:"Password must contain at least one lowercase letter."}).regex(/[A-Z]/,{message:"Password must contain at least one uppercase letter."}).regex(/[0-9]/,{message:"Password must contain at least one number."}).regex(/[^a-zA-Z0-9]/,{message:"Password must contain at least one special character."}),nickname:c().min(2,{message:"Nickname must be at least 2 characters."}),partner_email:c().email({message:"Please enter a valid partner email address."})}).refine(t=>t.email!==t.partner_email,{message:"Your partner's email cannot be the same as your own email.",path:["partner_email"]}),D=()=>{const t=y(),[h,g]=f.useState(!1),a=z({resolver:L(R),defaultValues:{email:"",password:"",nickname:"",partner_email:""}}),j=async s=>{const{email:b,password:N,nickname:w,partner_email:v}=s;try{const{data:d,error:p}=await A.auth.signUp({email:b,password:N,options:{data:{nickname:w,partner_email:v}}});p?x.error(p.message):d.user&&(x.success("Registration successful! Please check your email to confirm your account."),g(!0),setTimeout(()=>{t("/onboarding-welcome")},500))}catch{x.error("An unexpected error occurred during registration.")}};return e.jsxs(e.Fragment,{children:[e.jsxs(k,{children:[e.jsx("title",{children:"Register - Anbae"}),e.jsx("meta",{name:"description",content:"Create your Anbae account to start nurturing your relationship with personalized communication tools."})]}),e.jsx(S,{}),e.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col items-center justify-center p-4",children:[e.jsx("div",{className:"absolute top-4 right-4 z-10"}),e.jsxs("div",{className:F("w-full max-w-sm sm:max-w-md bg-white/30 dark:bg-gray-800/30 p-6 sm:p-8 rounded-xl shadow-lg backdrop-blur-sm border border-white/30 dark:border-gray-600/30",h?"animate-fade-out":"animate-fade-in"),children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("img",{src:"/favicon.ico",alt:"App Favicon",className:"w-10 h-10 sm:w-12 sm:h-12 mx-auto mb-3 sm:mb-4"}),e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-1 sm:mb-2",children:"Join Anbae"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-700 dark:text-gray-300",children:"Create your personalized space."})]}),e.jsx(E,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(j),className:"space-y-5 sm:space-y-6",children:[e.jsx(r,{control:a.control,name:"email",render:({field:s})=>e.jsxs(m,{children:[e.jsxs(n,{className:"flex items-center gap-2 text-sm sm:text-base",children:[e.jsx(B,{className:"w-4 h-4"})," Email"]}),e.jsx(o,{children:e.jsx(i,{placeholder:"your.email@example.com",...s,type:"email",value:s.value||"",className:"text-sm sm:text-base"})}),e.jsx(l,{className:"text-xs sm:text-sm"})]})}),e.jsx(r,{control:a.control,name:"password",render:({field:s})=>e.jsxs(m,{children:[e.jsxs(n,{className:"flex items-center gap-2 text-sm sm:text-base",children:[e.jsx(U,{className:"w-4 h-4"})," Password"]}),e.jsx(o,{children:e.jsx(i,{placeholder:"Your password",...s,type:"password",value:s.value||"",className:"text-sm sm:text-base"})}),e.jsx(l,{className:"text-xs sm:text-sm"})]})}),e.jsx(r,{control:a.control,name:"nickname",render:({field:s})=>e.jsxs(m,{children:[e.jsxs(n,{className:"flex items-center gap-2 text-sm sm:text-base",children:[e.jsx(C,{className:"w-4 h-4"})," Nickname"]}),e.jsx(o,{children:e.jsx(i,{placeholder:"Your Nickname",...s,value:s.value||"",className:"text-sm sm:text-base"})}),e.jsx(l,{className:"text-xs sm:text-sm"})]})}),e.jsx(r,{control:a.control,name:"partner_email",render:({field:s})=>e.jsxs(m,{children:[e.jsxs(n,{className:"flex items-center gap-2 text-sm sm:text-base",children:[e.jsx(I,{className:"w-4 h-4"})," Partner's Email"]}),e.jsx(o,{children:e.jsx(i,{placeholder:"partner@example.com",...s,type:"email",value:s.value||"",className:"text-sm sm:text-base"})}),e.jsx(l,{className:"text-xs sm:text-sm"})]})}),e.jsxs(P,{type:"submit",className:"w-full bg-pink-600 hover:bg-pink-700 text-white dark:bg-purple-600 dark:hover:bg-purple-700 text-sm sm:text-base py-2 sm:py-2.5",children:[e.jsx("img",{src:"/favicon.ico",alt:"Favicon",className:"w-4 h-4 mr-2"})," Create Account"]})]})}),e.jsx("div",{className:"mt-5 sm:mt-6 text-center",children:e.jsx(u,{to:"/login",className:"text-xs sm:text-sm text-pink-600 hover:text-pink-700 dark:text-purple-400 dark:hover:text-purple-500 transition-colors",children:"Already have an account? Login here"})}),e.jsx("div",{className:"mt-3 sm:mt-4 text-center",children:e.jsx(u,{to:"/",className:"text-xs sm:text-sm text-gray-800 hover:text-gray-900 dark:text-gray-200 dark:hover:text-gray-100 transition-colors",children:"‚Üê Back to Home"})})]})]})]})};export{D as default};
